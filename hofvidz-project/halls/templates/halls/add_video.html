{% extends 'halls/halls_base.html' %}
{% load bootstrap4 %}

{% block halls_content %}

    <div class="container">
        <h3>Add video to {{ hall.title }}</h3>
        <form method="POST">
            {% csrf_token %}
            {% load widget_tweaks %}
            {% for field in form %}
                <div class="form-group {% if field.errors %}alert alert-danger{% endif %} ">
                    {{ field.erros }}
                    {{ field.label_tag }}
                    {% render_field field class='form-control' %}
                </div>
            {% endfor %}

            <input class="btn btn-primary btn-large" type="submit" value="Add Video">
        </form>
        <br>
        <h2>OR</h2>
        <form>
            {% csrf_token %}
            {% for field in search_form  %}
                <div class="form-group">
                    {{ field.erros }}
                    {{ field.label_tag }}
                    {% render_field field class='form-control' %}
                </div>
            {% endfor %}
        </form>
        <div id='search_results' class="">
            <script>
                var delayTimer;
                $('#id_search_term').keyup(function(){
                    clearTimeout(delayTimer);
                    $('#search_results').text('Loading...');
                    delayTimer = setTimeout(function(){
                        $.ajax({
                            url: 'video/search/',
                            data: {
                                'search_term': 'hello'
                            },
                            dataType: 'json',
                            success: function(data) {
                                $('#search_results').text('AJAX OK');
                            }
                        });
                    }, 2500);
                });
            </script>
        </div>
    </div>

{% endblock %}
